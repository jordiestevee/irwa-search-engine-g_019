<div style="background: yellow; padding: 10px;">DEBUG: DASHBOARD TEMPLATE LOADED</div>

{% extends "base.html" %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}

<h2>Most Visited Documents</h2>
<p class="text-muted">Overview of user interactions and product popularity.</p>
<hr>

<!-- TABLE OF MOST CLICKED DOCUMENTS -->
<table class="table table-striped table-bordered">
    <thead class="thead-light">
        <tr>
            <th>Product ID</th>
            <th>Clicks</th>
            <th>Title</th>
            <th>Description</th>
        </tr>
    </thead>

    <tbody>
    {% for doc in visited_docs %}
        <tr>
            <td>{{ doc.pid }}</td>
            <td>{{ doc.clicks }}</td>
            <td>{{ doc.title }}</td>
            <td>{{ doc.description }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<hr>

<!-- EMBEDDED ALTAIR CLICK CHART -->
<h3>Click Distribution Chart</h3>
<p class="text-muted">Visualization of clicks per document.</p>

<iframe
    src="/plot_number_of_views"
    width="100%"
    height="500"
    frameborder="0"
    style="border-radius: 8px; border: 1px solid #ccc;">
</iframe>

{% endblock %}


